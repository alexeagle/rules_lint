load("@aspect_rules_js//js:defs.bzl", "js_library")
load("@aspect_rules_swc//swc:defs.bzl", "swc")
load("@aspect_rules_ts//ts:defs.bzl", "ts_project")

exports_files(["ruff.toml"])

py_library(
    name = "unused_import",
    srcs = ["unused_import.py"],
)

js_library(
    name = "eslint-override",
    srcs = ["index.js"],
)

ts_project(
    name = "ts",
    srcs = ["test.ts"],
    declaration = True,
    # verify that even when the macro expands to have js_library targets
    # we don't try to lint the output javascript files
    transpiler = swc,
    tsconfig = "//src:tsconfig",
    deps = [
        "//:node_modules/@types/node",
        "//:node_modules/moment",
    ],
)
